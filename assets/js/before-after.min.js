/*
 * jQuery Before / After
 */

(function(e){e.fn.evatheme_core_before_after=function(t){var t=e.extend({default_offset_pct:.5},t);return this.each(function(){var n=t.default_offset_pct;var r=e(this);r.wrap("<div class='evatheme_core_before_after-wrapper'></div>");var i=r.find("img:first");var s=r.find("img:last");r.append("<div class='evatheme_core_before_after-handle'></div>");var o=r.find(".evatheme_core_before_after-handle");o.append("<span class='evatheme_core_before_after-left-arrow'></span>");o.append("<span class='evatheme_core_before_after-right-arrow'></span>");r.addClass("evatheme_core_before_after-container");i.addClass("evatheme_core_before_after-before");s.addClass("evatheme_core_before_after-after");var u=function(e){var t=i.width();var n=i.height();return{w:t+"px",h:n+"px",cw:e*t+"px"}};var a=function(e){i.css("clip","rect(0,"+e.cw+","+e.h+",0)");r.css("height",e.h)};var f=function(e){var t=u(e);o.css("left",t.cw);a(t)};e(window).on("resize.evatheme_core_before_after",function(e){f(n)});var l=0;var c=0;r.on("movestart",function(e){if(e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY){e.preventDefault()}r.addClass("active");l=r.offset().left;c=i.width()});r.on("moveend",function(e){r.removeClass("active")});r.on("move",function(e){if(r.hasClass("active")){n=(e.pageX-l)/c;if(n<0||n>1){e.preventDefault();return false}f(n)}});r.find("img").on("mousedown",function(e){event.preventDefault()});e(window).trigger("resize.evatheme_core_before_after")})}})(jQuery);jQuery(document).ready(function(){"use strict";jQuery(".evatheme-before-after").evatheme_core_before_after({default_offset_pct:.7})});(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(e,t){function n(e){function t(e){if(r){n();F(t);i=true;r=false}else{i=false}}var n=e,r=false,i=false;this.kick=function(e){r=true;if(!i){t()}};this.end=function(e){var t=n;if(!e){return}if(!i){e()}else{n=r?function(){t();e()}:e;r=true}}}function r(){return true}function i(){return false}function s(e){e.preventDefault()}function o(e){if(I[e.target.tagName.toLowerCase()]){return}e.preventDefault()}function u(e){return e.which===1&&!e.ctrlKey&&!e.altKey}function a(e,t){var n,r;if(e.identifiedTouch){return e.identifiedTouch(t)}n=-1;r=e.length;while(++n<r){if(e[n].identifier===t){return e[n]}}}function f(e,t){var n=a(e.changedTouches,t.identifier);if(!n){return}if(n.pageX===t.pageX&&n.pageY===t.pageY){return}return n}function l(e){var t;if(!u(e)){return}t={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:e.timeStamp};H(document,q.move,c,t);H(document,q.cancel,h,t)}function c(e){var t=e.data;y(e,t,e,p)}function h(e){p()}function p(){B(document,q.move,c);B(document,q.cancel,h)}function d(e){var t,n;if(I[e.target.tagName.toLowerCase()]){return}t=e.changedTouches[0];n={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:e.timeStamp,identifier:t.identifier};H(document,R.move+"."+t.identifier,v,n);H(document,R.cancel+"."+t.identifier,m,n)}function v(e){var t=e.data,n=f(e,t);if(!n){return}y(e,t,n,g)}function m(e){var t=e.data,n=a(e.changedTouches,t.identifier);if(!n){return}g(t.identifier)}function g(e){B(document,"."+e,v);B(document,"."+e,m)}function y(e,t,n,r){var i=n.pageX-t.startX,s=n.pageY-t.startY;if(i*i+s*s<P*P){return}E(e,t,n,i,s,r)}function b(){this._handled=r;return false}function w(e){e._handled()}function E(e,t,n,r,i,s){var o=t.target,u,a;u=e.targetTouches;a=e.timeStamp-t.timeStamp;t.type="movestart";t.distX=r;t.distY=i;t.deltaX=r;t.deltaY=i;t.pageX=n.pageX;t.pageY=n.pageY;t.velocityX=r/a;t.velocityY=i/a;t.targetTouches=u;t.finger=u?u.length:1;t._handled=b;t._preventTouchmoveDefault=function(){e.preventDefault()};j(t.target,t);s(t.identifier)}function S(e){var t=e.data.event,n=e.data.timer;L(t,e,e.timeStamp,n)}function x(e){var t=e.data.event,n=e.data.timer;T();A(t,n,function(){setTimeout(function(){B(t.target,"click",i)},0)})}function T(e){B(document,q.move,S);B(document,q.end,x)}function N(e){var t=e.data.event,n=e.data.timer,r=f(e,t);if(!r){return}e.preventDefault();t.targetTouches=e.targetTouches;L(t,r,e.timeStamp,n)}function C(e){var t=e.data.event,n=e.data.timer,r=a(e.changedTouches,t.identifier);if(!r){return}k(t);A(t,n)}function k(e){B(document,"."+e.identifier,N);B(document,"."+e.identifier,C)}function L(e,t,n,r){var i=n-e.timeStamp;e.type="move";e.distX=t.pageX-e.startX;e.distY=t.pageY-e.startY;e.deltaX=t.pageX-e.pageX;e.deltaY=t.pageY-e.pageY;e.velocityX=.3*e.velocityX+.7*e.deltaX/i;e.velocityY=.3*e.velocityY+.7*e.deltaY/i;e.pageX=t.pageX;e.pageY=t.pageY;r.kick()}function A(e,t,n){t.end(function(){e.type="moveend";j(e.target,e);return n&&n()})}function O(e,t,n){H(this,"movestart.move",w);return true}function M(e){B(this,"dragstart drag",s);B(this,"mousedown touchstart",o);B(this,"movestart",w);return true}function _(e){if(e.namespace==="move"||e.namespace==="moveend"){return}H(this,"dragstart."+e.guid+" drag."+e.guid,s,t,e.selector);H(this,"mousedown."+e.guid,o,t,e.selector)}function D(e){if(e.namespace==="move"||e.namespace==="moveend"){return}B(this,"dragstart."+e.guid+" drag."+e.guid);B(this,"mousedown."+e.guid)}var P=6,H=e.event.add,B=e.event.remove,j=function(t,n,r){e.event.trigger(n,r,t)},F=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(function(){e()},25)}}(),I={textarea:true,input:true,select:true,button:true},q={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},R={move:"touchmove",cancel:"touchend",end:"touchend"};e.event.special.movestart={setup:O,teardown:M,add:_,remove:D,_default:function(e){var r,s;if(!e._handled()){return}r={target:e.target,startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,timeStamp:e.timeStamp,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger};s={event:r,timer:new n(function(t){j(e.target,r)})};if(e.identifier===t){H(e.target,"click",i);H(document,q.move,S,s);H(document,q.end,x,s)}else{e._preventTouchmoveDefault();H(document,R.move+"."+e.identifier,N,s);H(document,R.end+"."+e.identifier,C,s)}}};e.event.special.move={setup:function(){H(this,"movestart.move",e.noop)},teardown:function(){B(this,"movestart.move",e.noop)}};e.event.special.moveend={setup:function(){H(this,"movestart.moveend",e.noop)},teardown:function(){B(this,"movestart.moveend",e.noop)}};H(document,"mousedown.move",l);H(document,"touchstart.move",d);if(typeof Array.prototype.indexOf==="function"){(function(e,t){var n=["changedTouches","targetTouches"],r=n.length;while(r--){if(e.event.props.indexOf(n[r])===-1){e.event.props.push(n[r])}}})(e)}})